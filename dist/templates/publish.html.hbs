{{#> layout }}
  <p>After uploading your key we will send a verification link to each email address we find inside. Clicking that link will make your key searchable by that email address.</p>

  <div class="row">
    <form action="/publish" method="POST" enctype="multipart/form-data">
      <div class="upload">
        <input type="hidden" name="csrf" value="{{csrf}}" />
        <input type="file" id="keytext" name="keytext" autofocus class="fileUpload" placeholder="Your public key"/>
        <button type="submit" class="uploadButton button smallButton">
          <i class="fa fa-upload"></i>
        </button>
      </div>
    </form>
  </div>

  <div class="row">
    <p>If you're using GnuPG you can use the following snippet to export your public key. This will create a file called mykey.pgp that you can upload here.</p>
    <pre><code class="snippet">gpg --export your_address@example.org &gt; mykey.pgp</code></pre>
  </div>

  <div class="row">
    <p>You can delete an uploaded key <a href="/delete">here</a>.</p>
  </div>

  <script>
    var body = document.getElementsByTagName("body")[0];

     body.addEventListener('dragover', function(e) {
        e.preventDefault();
        e.stopPropagation();
      }, false);

      body.addEventListener('drop', function(e) {
        e.preventDefault();
        e.stopPropagation();
        if (e.dataTransfer) {
          document.getElementById('keytext').files = e.dataTransfer.files;
        }
    }, false);
  </script>
{{/layout}}
