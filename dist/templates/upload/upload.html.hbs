{{#> layout }}
<div class="ui">
  <center><h2>Upload</h2></center>

  <p>
    An uploaded key can be retrieved by its fingerprint.<br />
    After upload, you can also make it searchable by e-mail address.
  </p>

  <form action="/upload/submit" method="POST" enctype="multipart/form-data">
    <div class="upload">
      <input type="file" id="keytext" name="keytext" autofocus class="fileUpload" placeholder="Your public key"/>
      <button type="submit" class="uploadButton button smallButton">
        <img src="/assets/upload.svg" style="width: 1em;">
      </button>
    </div>
  </form>

  <p>
    Don't know what to do? Check our <a target="_blank" href="/about/usage">usage guide</a>.
  </p>

  <script>
    var body = document.getElementsByTagName("body")[0];

     body.addEventListener('dragover', function(e) {
        e.preventDefault();
        e.stopPropagation();
      }, false);

      body.addEventListener('drop', function(e) {
        e.preventDefault();
        e.stopPropagation();
        if (e.dataTransfer) {
          document.getElementById('keytext').files = e.dataTransfer.files;
        }
    }, false);
  </script>
</div>
{{/layout}}
